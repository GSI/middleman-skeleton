<!doctype html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en" >
  <head>
    <link href="http://<%= config.domain %>/<%= current_page.path %>" rel="canonical" />
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Use the title from a page's frontmatter if it has one -->
    <% page_title = current_page.data.title || I18n.t("#{current_page.data.id}.title", default: '') %>
    <title><%= page_title.empty? ? config.title : "#{page_title} | #{config.title}" %></title>

    <%#= stylesheet_link_tag "normalize", "foundation", "all" %>
    <%= stylesheet_link_tag 'essential' %>
    <%#= favicon_tag 'images/favicon.ico' %>

    <%#= javascript_include_tag "all" %>
  </head>

  <body class="no-js <%= page_classes %>">
    <%# The following script switches the html-class from "no-js" to "js" in
        case JavaScript is supported.
        See http://www.paulirish.com/2009/avoiding-the-fouc-v3/ for details. %>
    <script type="text/javascript">(function (H) {
      H.className = H.className.replace(/\bno-js\b/, 'js')
    })(document.body)</script>

    <%= yield %>
    <%= javascript_include_tag 'all' %>
    
  </body>
</html>

<%# As suggested in https://developers.google.com/speed/docs/insights/OptimizeCSSDelivery %>
<noscript><%= stylesheet_link_tag 'deferred' %></noscript>
<noscript><img src="http://<%= config.piwik_host %>/piwik.php?idsite=<%= config.piwik_id %>&amp;rec=1" style="border:0" alt="" /></noscript>
<script>
    var head = document.getElementsByTagName("head")[0];
    var noscript = document.getElementsByTagName("noscript")[0];
    head.insertAdjacentHTML('beforeend', noscript.innerHTML);
</script>
